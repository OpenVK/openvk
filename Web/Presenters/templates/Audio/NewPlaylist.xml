{extends "../@layout.xml"}

{block title}
    {_new_playlist}
{/block}

{block header}
    {if !$_GET["owner"]}
        <a href="{$thisUser->getURL()}">{$thisUser->getCanonicalName()}</a>
        »
        <a href="/audios{$thisUser->getId()}">{_audios}</a>
    {else}
        <a href="{$club->getURL()}">{$club->getCanonicalName()}</a>
        »
        <a href="/audios-{$club->getId()}">{_audios}</a>
    {/if}
    »
    {_new_playlist}
{/block}

{block content}
    <style>
        textarea[name='description'] {
            padding: 4px;
            resize: vertical;
            min-height: 150px;
            max-height: 300px;
        }
    </style>

    <form method="post" id="newPlaylistForm">
        <input type="text" name="title" placeholder="{_title}" maxlength="128" />
        <br /><br />
        <textarea placeholder="{_description}" name="description" maxlength="2048" />
        <br /><br />

        <div n:if="sizeof($audios) > 0">
            <div id="newPlaylistAudios" n:foreach="$audios as $audio">
                {include "player.xml", audio => $audio, addToPlaylistButton => true}
            </div>
        </div>

        <input type="hidden" name="hash" value="{$csrfToken}" />
        <button class="button" style="float: right;">{_create}</button>
    </form>
{/block}
