{extends "../@layout.xml"}

{block title}
    {_new_playlist}
{/block}

{block header}
    {if !$_GET["gid"]}
        <a href="{$thisUser->getURL()}">{$thisUser->getCanonicalName()}</a>
        »
        <a href="/playlists{$thisUser->getId()}">{_playlists}</a>
    {else}
        <a href="{$club->getURL()}">{$club->getCanonicalName()}</a>
        »
        <a href="/playlists-{$club->getId()}">{_playlists}</a>
    {/if}
    »
    {_new_playlist}
{/block}

{block content}
    <style>
        textarea[name='description'] {
            padding: 4px;
        }

        .playlistInfo {
            width: 76%;
            margin-left: 8px;
        }
    </style>

    <div style="display:flex;">
        <div class="playlistCover" onclick="document.querySelector(`#newPlaylistForm input[name='cover']`).click()">
            <a>
                <img src="/assets/packages/static/openvk/img/song.jpg" alt="{_playlist_cover}">
            </a>
        </div>

        <div style="padding-left: 17px;width: 75%;" class="plinfo">
            <div>
                <input type="text" name="title" placeholder="{_title}" maxlength="125" />
            </div>
            <div class="moreInfo" style="margin-top: 11px;">
                <textarea placeholder="{_description}" name="description" maxlength="2045" />
            </div>
            <label>
                <input type='checkbox' name='is_unlisted'>
                {_playlist_hide_from_search}
            </label>
        </div>
    </div>

    <form method="post" id="newPlaylistForm" enctype="multipart/form-data">
        <input type="hidden" name="title" maxlength="125" />
        <input type="hidden" name="hash" value="{$csrfToken}" />
        <input type="hidden" name="is_unlisted" value="0" />
        <textarea style="display:none;" name="description" maxlength="2045" />
        <input type="hidden" name="audios">
        <input type="file" style="display:none;" name="cover" accept=".jpg,.png">

        <div style="float: right;margin-top: 9px;">
            <button class="button" type="submit">{_create}</button>
        </div>
    </form>
{/block}
