<div
    id="audioEmbed-{$audio->getId()}"
    {if $canAdd || $canRemove || $canEdit}
        onmouseenter="$('#audioEmbed-{$audio->getId()} .track-additional-info').css('display', 'none'); $('#audioEmbed-{$audio->getId()} .buttons').css('display', 'flex');"
        onmouseleave="$('#audioEmbed-{$audio->getId()} .track-additional-info').css('display', 'flex'); $('#audioEmbed-{$audio->getId()} .buttons').css('display', 'none')"
    {/if}
>
    <audio class="audio" />

    <div id="miniplayer" class="audioEntry" style="min-height: 55px;">
        <div class="playerButton">
            <img src="/assets/packages/static/openvk/img/play.jpg" />
        </div>

        <div class="status" style="margin-top: 6px;">
            <div class="mediaInfo" style="margin-bottom: -8px; cursor: pointer;" onClick="window.location.href = '/audios/search?q=' + {$audio->getTitle()}"">
                <strong>
                    {$audio->getTitle()}
                </strong>
            </div>

            <div class="performer" style="cursor: pointer;" onClick="window.location.href = '/audios/search?q=' + {$audio->getPerformer()} + '&by_performer=on'">
                <span class="nobold">
                    {$audio->getPerformer()}
                </span>
            </div>

            <div class="track">
                <center class="claimed" style="width: 100%; padding: 4px; color: #45688E; font-weight: bold;" n:if="$audio->isWithdrawn()">
                        {_audio_embed_withdrawn}
                </center>
                <div class="selectableTrack" n:attr="style => $audio->isWithdrawn() ? 'display: none;' : 'border: #707070 1px solid;'">
                    <div>&nbsp;
                        <!-- actual track -->
                    </div>
                </div>
            </div>
        </div>

        <div class="volume" style="display: flex; flex-direction: column;">
            <span class="nobold" style="text-align: right;">
                {$audio->getFormattedLength()}
            </span>
            <div class="track-additional-info" style="margin-top: 8px; align-self: flex-end;">
                <svg n:if="$audio->isExplicit()" xmlns="http://www.w3.org/2000/svg" height="11" viewBox="0 0 11 11" width="11">
                    <path d="m1 2.506v5.988a1.5 1.5 0 0 0 1.491 1.506h6.019c.827 0 1.49-.674 1.49-1.506v-5.988a1.5 1.5 0 0 0 -1.491-1.506h-6.019c-.827 0-1.49.674-1.49 1.506zm4 2.494v-1h2v-1h-3v5h3v-1h-2v-1h2v-1zm-5-2.494a2.496 2.496 0 0 1 2.491-2.506h6.019a2.5 2.5 0 0 1 2.49 2.506v5.988a2.496 2.496 0 0 1 -2.491 2.506h-6.019a2.5 2.5 0 0 1 -2.49-2.506z"
                          fill="#828a99" fill-opacity=".7"/>
                </svg>
            </div>
            <div class="buttons" style="margin-top: 8px; display: none; justify-content: space-between; gap: 8px; align-self: flex-end;">
                <div n:if="$canAdd ?? true" class="icon add-icon" n:attr="onClick => $addOnClick ?? ''" />
                <div n:if="$canRemove" class="icon delete-icon" n:attr="onClick => $deleteOnClick ?? ''" />
                <div n:if="$canEdit" class="icon edit-icon" n:attr="onClick => $editOnClick ?? ''" />
            </div>
        </div>
    </div>
</div>
